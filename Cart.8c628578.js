function e(e){return e&&e.__esModule?e.default:e}function t(e,t,s,a){Object.defineProperty(e,t,{get:s,set:a,enumerable:!0,configurable:!0})}var s=globalThis.parcelRequire164e,a=s.register;a("kWGGf",function(a,l){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),t(a.exports,"default",()=>N);var i=s("5huGB"),r=s("aEY2s"),d=s("Fx3Au"),c=s("99ktU"),n=s("4G36A"),o=s("5uKyH"),x=s("jAAjC"),m=s("cHBBm"),f=s("gtztt"),u=s("43gfl"),h=s("23Ltm"),p=s("4rwl4"),j=s("gFt8r"),g=s("3JPx3"),b=s("4jQRy"),y=s("8JGbi"),N=()=>{let{user:t}=(0,r.useContext)(y.userContext),{setUserLoginOrSignup:s}=(0,r.useContext)(p.loginOrSignUpContext),[a]=(0,d.useUpdateCartMutation)(),[l]=(0,d.useDeleteCartItemMutation)(),{data:N}=(0,d.useGetCartItemsQuery)(t?.uid),v="",w=new Set;void 0===N||"notExists"===N?console.log("cartItem data is either undefined or doesnt exist",N):v=N.restaurantId;let{data:C,isLoading:L}=(0,g.default)(v),I=e=>C?.restaurantMenu.groupedCard.cardGroupMap.REGULAR.cards.find(t=>t.card.card["@type"]===x.CardType.ItemCategory?t.card.card.itemCards.find(t=>t.card.info.id===e):t.card.card["@type"]===x.CardType.NestedItemCategory&&t.card.card.categories.flatMap(e=>e.itemCards).find(t=>t.card.info.id===e)),k=(e,t)=>e.card.card["@type"]===x.CardType.ItemCategory?e.card.card.itemCards.find(e=>e.card.info.id===t):e.card.card["@type"]===x.CardType.NestedItemCategory?e.card.card.categories.flatMap(e=>e.itemCards).find(e=>e.card.info.id===t):void 0,A=(0,r.useMemo)(()=>{let e=0;if(void 0!==N&&"notExists"!==N&&null!==N&&N?.itemWithQuantity)return Object.entries(N?.itemWithQuantity).map(([t,s])=>{let a=C?.restaurantMenu&&I(t),l=a&&k(a,t);void 0!==l&&(e+=(l?.card?.info?.price?l?.card?.info?.price:l?.card?.info?.defaultPrice)*s)}),e/100;console.log("cartItem data is either undefined or doesnt exist",N)},[N]),S=async(e,s)=>{if(void 0===N||"notExists"===N)console.log("data is either undefined or doesnt exist",N);else{v=N.restaurantId;let s=Object.entries(N.itemWithQuantity).find(([t,s])=>t===e);s&&t&&await a({itemId:e,user:t?.uid,restaurantId:v,quantity:s[1]+1})}},E=async(e,s)=>{if(void 0===N||"notExists"===N)console.log("data is either undefined or doesnt exist",N);else{v=N.restaurantId;let s=Object.entries(N.itemWithQuantity).find(([t,s])=>t===e);if(s&&t){let i={itemId:e,user:t?.uid,restaurantId:v,quantity:s[1]-1};1===s[1]?1===Object.entries(N.itemWithQuantity).length?(w.delete(e),await l(t?.uid)):await a(i):t&&await a(i)}}};return L?(0,i.jsx)(j.default,{}):void 0===N||"notExists"===N?t?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-cente space-y-2 mt-24",children:[(0,i.jsx)("p",{className:"text-xl text-slate-600 font-bold",children:"Your cart is empty!"}),(0,i.jsx)("p",{className:"text-sm pb-4",children:"You can go to homepage to view more restaurants"}),(0,i.jsx)(m.Link,{to:"/",className:" bg-red-600 text-white text-sm px-6 py-2 font-bold rounded-sm",children:"SEE ALL RESTAURANTS"})]}):(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center mt-32",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-slate-600",children:"Your cart is empty"}),(0,i.jsxs)("p",{className:"text-md",children:["You can",(0,i.jsx)("button",{type:"button",className:"text-red-500 mx-1",onClick:()=>{(0,b.handleLoginOrSignUp)(),s(!0)},children:"Login/SignUp"}),"and go to homepage to view more restaurants"]})]}):t?N.restaurantId?(0,i.jsx)("div",{className:"relative w-full h-screen bg-slate-100",children:(0,i.jsx)("div",{className:"flex mx-auto max-w-screen-xl min-w-max pt-10 px-28",children:(0,i.jsxs)("div",{className:"flex md:flex-row md:space-x-8 w-full flex-col",children:[(0,i.jsx)("div",{className:"md:w-8/12 w-10/12",children:(0,i.jsxs)("div",{className:"flex flex-col justify-around space-y-10 ",children:[(0,i.jsxs)("div",{className:"flex flex-col items-start bg-white space-y-6 py-6 px-8 w-full shadow-lg",children:[(0,i.jsx)("div",{className:"font-bold text-lg text-slightBlack",children:"Add a delivery address"}),(0,i.jsx)("input",{type:"text",placeholder:"House No/Flat/Building",className:"border border-b-black w-3/4 placeholder:text-xs placeholder:pl-2 outline-none"}),(0,i.jsx)("input",{type:"text",placeholder:"Street Address/Colony/Area",className:"border border-b-black w-3/4 placeholder:text-xs placeholder:pl-2 outline-none"}),(0,i.jsx)("input",{type:"text",placeholder:"Landmark",className:"border border-b-black w-3/4 placeholder:text-xs placeholder:pl-2 outline-none"}),(0,i.jsx)("button",{type:"button",className:"bg-lime-600 font-semibold hover:bg-lime-700 text-white px-4 py-1 text-md rounded-md",children:"Save"}),(0,i.jsx)("div",{className:"absolute lg:flex hidden items-center justify-center top-8 left-[200px] bg-black p-1 shadow-xl w-10 h-10",children:(0,i.jsx)(c.HiLocationMarker,{size:26,className:"text-white"})}),(0,i.jsx)("div",{className:"absolute lg:block hidden left-[220px] top-[76px] border-l border-dashed border-gray-400 h-80"})]}),(0,i.jsxs)("div",{className:"bg-white px-8 items-start shadow-lg py-4",children:[(0,i.jsx)("div",{className:"text-lg text-gray-500 py-4 font-bold",children:"Payment"}),(0,i.jsx)("div",{className:"absolute lg:flex hidden items-center justify-center top-[425px] left-[200px] bg-black p-1 shadow-xl w-10 h-10",children:(0,i.jsx)(n.GiWallet,{size:24,className:"text-white text-center"})})]})]})}),(0,i.jsxs)("div",{className:"relative md:w-4/12 w-10/12 flex flex-col space-y-2 bg-white p-6 shadow-lg",children:[(0,i.jsx)(m.Link,{to:`/restaurant/${C?.resInfo.card.card.info.id}`,children:(0,i.jsxs)("div",{className:"flex flex-row items-center space-x-4 mb-4",children:[(0,i.jsx)("img",{src:`${o.CLOUDINARY_URL+C?.resInfo?.card?.card?.info?.cloudinaryImageId}`,alt:"",className:"w-12 h-12"}),(0,i.jsxs)("div",{className:"flex flex-col font-semibold after:content-[' '] after:bg-slightBlack after:w-10 after:h-[3px] min-h-[50px]   truncate max-w-xs",children:[(0,i.jsx)("p",{className:"text-[17px] text-slightBlack",children:C?.resInfo?.card?.card?.info?.name}),(0,i.jsx)("p",{className:"text-xs font-normal text-[#686B78] mb-2",children:C?.resInfo.card.card.info.areaName})]})]})}),(0,i.jsx)("div",{className:" flex flex-col w-full",children:Object.entries(N.itemWithQuantity)?.map(([t,s],a)=>{let l=I(t);if(!l)return i.jsx("div",{className:"relative bg-red-50 text-xs font-semibold px-1 py-2 animate-itemNotExistsMessage ",children:"Sorry, the item you added is currently unavailable."},a);let r=k(l,t);return r?i.jsxs("div",{className:"flex flex-row items-center justify-start space-x-2 py-2 w-full",children:[i.jsx("div",{className:"relative top-1 self-start",children:r.card?.info?.isVeg===1?i.jsx("img",{src:e(f),className:"w-[15px]"}):i.jsx("img",{src:e(u),className:"w-[15px]"})}),i.jsx("div",{className:"flex flex-wrap font-normal text-[13.5px] w-2/4 self-start",children:r.card?.info?.name}),i.jsxs("div",{className:"flex flex-row items-center justify-center space-x-3 border border-gray-200 p-1  font-bold ",children:[i.jsx("button",{type:"button",className:"",onClick:()=>E(t,r.card.info.price?r.card.info.price:r.card.info.defaultPrice),children:i.jsx(h.AiOutlineMinus,{size:13,className:"mt-[2px] text-gray-300"})}),i.jsx("div",{className:"text-xs text-lime-500",children:s}),i.jsx("button",{type:"button",className:"",onClick:()=>S(t,r.card.info.price?r.card.info.price:r.card.info.defaultPrice),children:i.jsx(h.AiOutlinePlus,{size:13,className:"mt-[2px] text-lime-600"})})]}),i.jsxs("div",{className:"flex text-xs font-semibold justify-center pl-2",children:["₹",(r.card?.info?.price?r.card?.info?.price:r.card?.info?.defaultPrice)*s/100]})]},t):i.jsx("div",{className:"relative bg-red-50 text-xs font-semibold px-1 py-2 animate-itemNotExistsMessage ",children:"Sorry, the item you added is currently unavailable."},a)})}),(0,i.jsx)("div",{className:"flex justify-center items-center",children:(0,i.jsx)("input",{type:"text",placeholder:"Any suggestions? We will pass it on...",className:"bg-gray-100 p-3 placeholder:text-xs placeholder:px-4 w-full"})}),(0,i.jsxs)("div",{className:"text-[13px]",children:[(0,i.jsx)("p",{className:"font-medium text-slightBlack",children:"Bill details"}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-[#686b78]",children:[(0,i.jsx)("p",{children:"Item total"}),(0,i.jsxs)("p",{children:["₹",A]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-[#686b78]",children:[(0,i.jsx)("p",{children:"Delivery Fee"}),(0,i.jsx)("p",{className:"text-lime-600",children:"FREE"})]})]}),(0,i.jsx)("div",{className:"border-b border-gray-200"}),(0,i.jsxs)("div",{className:"text-[13px]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between text-[#686b78]",children:[(0,i.jsx)("p",{children:"Platform fee"}),(0,i.jsx)("p",{children:"₹3"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-[#686b78]",children:[(0,i.jsx)("p",{children:"GST and restaurant charges"}),(0,i.jsx)("p",{children:"₹51.10"})]})]}),(0,i.jsx)("div",{className:"border-b border-black border-[1.5px]"}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm font-bold text-slightBlack ",children:[(0,i.jsx)("p",{children:"TO PAY"}),(0,i.jsxs)("p",{children:["₹ ",A&&Math.round(A+51.1+3)]})]})]})]})})}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-cente space-y-2 mt-24",children:[(0,i.jsx)("p",{className:"text-xl text-slate-600 font-bold",children:"Your cart is empty!"}),(0,i.jsx)("p",{className:"text-sm pb-4",children:"You can go to homepage to view more restaurants"}),(0,i.jsx)(m.Link,{to:"/",className:" bg-red-600 text-white text-sm px-6 py-2 font-bold rounded-sm",children:"SEE ALL RESTAURANTS"})]}):(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center mt-32",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-slate-600",children:"Your cart is empty"}),(0,i.jsxs)("p",{className:"text-md",children:["You can",(0,i.jsx)("button",{type:"button",className:"text-red-500 mx-1",onClick:()=>{(0,b.handleLoginOrSignUp)(),s(!0)},children:"Login/SignUp"}),"and go to homepage to view more restaurants"]})]})}}),a("4G36A",function(e,a){t(e.exports,"GiWallet",()=>i);var l=s("6wNxc");function i(e){return(0,l.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M200.4 27.39L180.9 183h42.8l49.1-146.57-72.4-9.04zm91.7 8L242.7 183l149.7.1 34.3-102.61-134.6-45.1zM180 46.03l-71.9 7.84L122.2 183h40.7L180 46.03zM64 153c-11.5 0-19.18 8.8-21.27 17.2-1.04 4.2-.45 7.6.73 9.5 1.17 1.8 2.79 3.3 8.54 3.3h52.1l-3.3-30H64zm357.4 0l-10 30h47.5c-2.6-5-3.7-10.3-3-15.6.7-5.2 2.7-9.9 5.3-14.4h-39.8zM41 201v246.9c0 5.1 2.79 11.1 7.37 15.7C52.96 468.2 59 471 64 471l384 .1c5 0 11-2.8 15.6-7.4 4.6-4.6 7.4-10.6 7.4-15.7v-71h-87c-44 0-44-82 0-82h87v-93.9L41 201zm343 112c-20 0-20 46 0 46h22.3c-9-3.8-15.3-12.7-15.3-23s6.3-19.2 15.3-23H384zm41.7 0c9 3.8 15.3 12.7 15.3 23s-6.3 19.2-15.3 23H487v-46h-61.3zm-9.7 16c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7z"}}]})(e)}}),a("gtztt",function(e,t){e.exports=new URL("veg.d03b2b12.png",import.meta.url).toString()}),a("43gfl",function(e,t){e.exports=new URL("non-veg.4c728faf.png",import.meta.url).toString()}),a("gFt8r",function(e,a){t(e.exports,"default",()=>r);var l=s("5huGB");s("aEY2s");var i=s("2GcGG"),r=()=>(0,l.jsx)("div",{className:"flex mx-auto max-w-screen-xl min-w-max pt-10 px-28",children:(0,l.jsxs)("div",{className:"flex flex-row space-x-8 w-full",children:[(0,l.jsx)("div",{className:"w-8/12",children:(0,l.jsxs)("div",{className:"flex flex-col justify-around space-y-10 ",children:[(0,l.jsx)(i.default,{height:240,width:"100%"}),(0,l.jsx)(i.default,{height:80,width:"100%"})]})}),(0,l.jsxs)("div",{className:"relative w-4/12 flex flex-col space-y-4 bg-white p-6 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,l.jsx)(i.default,{height:60,width:60}),(0,l.jsx)(i.default,{height:20,width:180})]}),(0,l.jsx)(i.default,{count:3,height:10}),(0,l.jsx)(i.default,{count:1,height:40}),(0,l.jsx)(i.default,{count:4.5,height:10})]})]})})});
//# sourceMappingURL=Cart.8c628578.js.map
